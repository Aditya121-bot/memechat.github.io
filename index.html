
<html>

  <head>
    <title> Date & Time </title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Hachi+Maru+Pop&family=Montserrat:wght@900&family=Potta+One&family=Yantramanav:wght@100&display=swap" rel="stylesheet">
     <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-app.js"></script>
Â Â Â  <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-database.js"></script>
  </head>

  <body>
    <div id="container">
      <h1 id="day"> </h1>
      <h2 id="month_date_year"> </h2>
      <h2 id="time"> </h2>
    </div>
  </body>

  <style>
    html ,body{
        width: 100%;
        height: 100%;
         display: flex;
         justify-content: center;
          align-items: center;
    }
    #container{
      width: 40%;
      text-align: center;
      margin-top: -150px;

      border-radius: 10px;

      background-image: url('https://image.freepik.com/free-vector/tropical-flowers-background-zoom_52683-42256.jpg');
      background-size:cover;

    }
    #day{
      color: #fff;
      font-family: Montserrat;
    }
    #month_date_year{
      color: #fff;
      font-family: Yantramanav;
    }
    #time{
      color: #fff;
      font-family: Montserrat;
    }
    
    
    
    
    
    Â 

body{
Â  /* https://www.color-hex.com/color/d3d3d3 */
Â  background-color: #fff; /*#f6f6f6, EBEBD3, fafafa*/
Â  font-family: Bungee Outline;
Â  font-weight: 900;

Â  overflow: hidden;
Â  animation: blur 0.5s ease-out;

}
*{
Â  outline: none;
Â  border: none;
Â  padding: 0;
Â  margin: 0;
Â  box-sizing: border-box;
}
#title_container{
Â  width: 100%;
Â  height: 225px;

Â  display: flex;
Â  justify-content: center;
Â  align-items: center;

Â  background-color: #D64045;/*#467599;*/
Â  border-bottom: 5px solid #fff;
Â  box-shadow: 0 0 30px -18px #D64045;

}
#title_inner_container{
Â  width: 100%;
Â  height: 100%;

Â  display: flex;
Â  justify-content: center;
Â  align-items: center;

Â  /* background-color: #083D77; */
Â  border-radius: 200px;
}
#title{
Â  display: inline-block;
Â  color: #fff;/*EBEBD3, C5283D*/
Â  font-size: 55px;
Â  letter-spacing: 2px;
Â  user-select: none;
}

#join_container{
Â  width: 100%;
Â  height: 200px;

Â  display: flex;
Â  justify-content: center;
Â  align-items: center;

Â  float: left;
Â  margin-top: 80px;

}
#join_inner_container{
Â  width: 50%;
Â  height: 100%;
}
#join_input_container{
Â  width: 100%;
Â  height: 50px;

Â  display: flex;
Â  justify-content: center;
Â  align-items: center;

Â  float: left;
}
#join_input{
Â  width: 60%;
Â  height: 40px;

Â  color: #1D3354;
Â  font-family: Varela Round;
Â  font-size: 15px;
Â  font-weight: bold;
Â  text-align: center;
Â  background-color: Transparent;
Â  border-bottom: 2px dashed #1D3354;

}
#join_input:focus{
Â  box-shadow: 0 10px 30px -17px #1D3354;
}
#join_button_container{
Â  width: 100%;
Â  height: 50px;

Â  display: flex;
Â  justify-content: center;
Â  align-items: center;

Â  float: left;
}
#join_button{
Â  width: 60%;
Â  height: 40px;

Â  font-family: Varela Round;
Â  font-size: 15px;
Â  font-weight: bold;
Â  text-align: center;
Â  color: #fff;
}

#chat_container{
Â  width: 100%;
Â  height: 450px;

Â  display: flex;
Â  justify-content: center;

Â  float: left;
Â  margin-top: 40px;
Â  /* Fade in container */
Â  animation: fadeIn 1s linear;

}
#chat_inner_container{
Â  width: 40%;
Â  height: 100%;
}
#chat_content_container{
Â  width: 100%;
Â  height: 90%;

Â  float: left;
Â  overflow-y: auto;
Â  font-family: Varela Round;

Â  padding-left: 15px;
Â  padding-right: 15px;
}
#chat_input_container{
Â  width: 100%;
Â  height: 10%;

Â  float: left;
Â  border-bottom: 2px dashed #1D3354;
Â  background-color: Transparent;

Â  padding-left: 15px;
Â  padding-right: 15px;
Â  font-family: Varela Round;
Â  margin-top: 10px;
}
#chat_input{
Â  width: 95%;
Â  height: 100%;
Â  float: left;
Â  background-color: Transparent;
Â  color: #1D3354;
Â  font-size: 15px;
}
#chat_input_send{
Â  width: 5%;
Â  height: 100%;
Â  float: left;
Â  font-size: 18px;
Â  background-color: Transparent;
Â  text-align: right;
Â  color: #ccc;
}
#chat_input_send.enabled{
Â  color: #D64045;
Â  background-color: Transparent;
Â  cursor: pointer;

}
#chat_logout_container{
Â  width: 100%;
Â  display: inline-block;

Â  display: flex;
Â  justify-content: center;
Â  align-items: center;

Â  float: left;
Â  margin-top: 20px;
}
#chat_logout{
Â  color: #D64045;
Â  cursor: pointer;
}
#chat_logout:hover{
Â  text-decoration: underline;
}
.message_container{
Â  width: 100%;
Â  display: inline-block;
Â  margin-bottom: 20px;

}
.message_inner_container{
Â  width: 100%;
Â  display: inline-block;

Â  color: #1D3354;
}
.message_user_container{
Â  width: 100%;
Â  display: inline-block;
}
.message_user{
Â  font-weight: bold;
Â  font-size: 14px;
}
.message_content_container{
Â  width: 100%;
Â  display: inline-block;

Â  white-space: pre-wrap;
Â  word-wrap: break-word;
}
.message_content{
Â  font-weight: normal;
Â  font-size: 14px;
Â  margin-top: 5px;
}




.enabled{
Â  transition: background-color 0.5s;
Â  color: #fff;
Â  background-color: #D64045; /*#5B7553;*/
Â  cursor: pointer;
}
#title_container.chat_title_container{
Â  transition: 0.8s;
Â  transition-timing-function: ease-in-out;
Â  height: 100px;
}
#title.chat_title{
Â  transition: 0.8s;
Â  font-size: 47px;
}
.loader_container{
Â  width: 100%;
Â  height: 100%;

Â  display: flex;
Â  justify-content: center;
Â  align-items: center;
}
.loader {
Â  border-radius: 50%;
Â  width: 40px;
Â  height: 40px;
Â  animation: spin 1s linear infinite;

Â  border-top: 6px solid #D64045;
Â  border-bottom: 6px solid #1D3354;
Â  border-left: 6px solid #E9FFF9;
Â  border-right: 6px solid #E9FFF9;
}

@keyframes spin {
Â  0% { transform: rotate(0deg); }
Â  100% { transform: rotate(360deg); }
}
@keyframes fadeIn {
Â Â  0% {opacity: 0;}
Â Â  100% {opacity: 1;}
}
@keyframes blur {
Â  0% {filter: blur(5px);}
Â  100% {}
}
::selection {
Â  background-color: #D64045;
Â  color: #fff;
}
/* width */
::-webkit-scrollbar {
Â  width: 6px;
}
/* Track */
::-webkit-scrollbar-track {
Â  background: #cccs;
}
/* Handle */
::-webkit-scrollbar-thumb {
Â  background: #D64045;
Â  border-radius: 5px;
}


    
    
  </style>

  <script>
    months = ['January', 'February', 'March', 'April',
    'May', 'June', 'July', 'August', 'September',
    'October', 'November', 'December']

    days = ['Sunday', 'Monday', 'Tuesday',
    'Wednesday', 'Thursday', 'Friday', 'Saturday']

    date_data = new Date()
    // Get day
    current_day = date_data.getDay()
    document.getElementById('day').textContent = days[current_day]

    // Get Month date year
    current_month = date_data.getMonth()
    current_date = date_data.getDate()
    current_year = date_data.getFullYear()
    document.getElementById('month_date_year').textContent = `${months[current_month]} ${current_date}, ${current_year}`

    // Get time
    
    current_hour = date_data.getHours()
    current_minute = date_data.getMinutes()
    am_pm = ''

    if(current_hour >= 12){
      // It's pm
      am_pm = 'PM'
    }else{
      // It's AM
      am_pm = 'AM'
    }
    document.getElementById('time').textContent = `${current_hour}:${current_minute} ${am_pm}`





//real js

  
window.onload = function() {
Â Â Â  // Your web app's Firebase configuration
Â  var firebaseConfig = {
Â Â Â      apiKey: "AIzaSyAck2mrryCRV7_NWb2qS7xYWWu9Lg_j-X0",
    authDomain: "aditya-a96ba.firebaseapp.com",
    databaseURL: "https://aditya-a96ba-default-rtdb.firebaseio.com",
    projectId: "aditya-a96ba",
    storageBucket: "aditya-a96ba.appspot.com",
    messagingSenderId: "479178252142",
    appId: "1:479178252142:web:87f9c3a544b76f5ea8ab7f",
    measurementId: "G-SP1EBY2B86"
Â  };
Â  // Initialize Firebase
Â  firebase.initializeApp(firebaseConfig);
Â  var db = firebase.database()

Â  class MEME_CHAT{
Â Â Â  home(){
Â Â Â Â Â  document.body.innerHTML = ''
Â Â Â Â Â  this.create_title()
Â Â Â Â Â  this.create_join_form()
Â Â Â  }
Â Â Â  chat(){
Â Â Â Â Â  this.create_title()
Â Â Â Â Â  this.create_chat()
Â Â Â  }
Â Â Â  create_title(){
Â Â Â Â Â  var title_container = document.createElement('div')
Â Â Â Â Â  title_container.setAttribute('id', 'title_container')
Â Â Â Â Â  var title_inner_container = document.createElement('div')
Â Â Â Â Â  title_inner_container.setAttribute('id', 'title_inner_container')

Â Â Â Â Â  var title = document.createElement('h1')
Â Â Â Â Â  title.setAttribute('id', 'title')
Â Â Â Â Â  title.textContent = 'MemeChat 2.0'

Â Â Â Â Â  title_inner_container.append(title)
Â Â Â Â Â  title_container.append(title_inner_container)
Â Â Â Â Â  document.body.append(title_container)
Â Â Â  }
Â Â Â  create_join_form(){
Â Â Â Â Â  // YOU MUST HAVE (PARENT = THIS). OR NOT. I'M NOT YOUR BOSS!ðŸ˜‚
Â Â Â Â Â  var parent = this;

Â Â Â Â Â  var join_container = document.createElement('div')
Â Â Â Â Â  join_container.setAttribute('id', 'join_container')
Â Â Â Â Â  var join_inner_container = document.createElement('div')
Â Â Â Â Â  join_inner_container.setAttribute('id', 'join_inner_container')

Â Â Â Â Â  var join_button_container = document.createElement('div')
Â Â Â Â Â  join_button_container.setAttribute('id', 'join_button_container')

Â Â Â Â Â  var join_button = document.createElement('button')
Â Â Â Â Â  join_button.setAttribute('id', 'join_button')
Â Â Â Â Â  join_button.innerHTML = 'Join <i class="fas fa-sign-in-alt"></i>'

Â Â Â Â Â  var join_input_container = document.createElement('div')
Â Â Â Â Â  join_input_container.setAttribute('id', 'join_input_container')

Â Â Â Â Â  var join_input = document.createElement('input')
Â Â Â Â Â  join_input.setAttribute('id', 'join_input')
Â Â Â Â Â  join_input.setAttribute('maxlength', 15)
Â Â Â Â Â  join_input.placeholder = 'No.... It\'s Patrick Star'
Â Â Â Â Â  join_input.onkeyupÂ  = function(){
Â Â Â Â Â Â Â  if(join_input.value.length > 0){
Â Â Â Â Â Â Â Â Â  join_button.classList.add('enabled')
Â Â Â Â Â Â Â Â Â  join_button.onclick = function(){
Â Â Â Â Â Â Â Â Â Â Â  parent.save_name(join_input.value)
Â Â Â Â Â Â Â Â Â Â Â  join_container.remove()
Â Â Â Â Â Â Â Â Â Â Â  parent.create_chat()
Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â  }else{
Â Â Â Â Â Â Â Â Â  join_button.classList.remove('enabled')
Â Â Â Â Â Â Â  }
Â Â Â Â Â  }

Â Â Â Â Â  join_button_container.append(join_button)
Â Â Â Â Â  join_input_container.append(join_input)
Â Â Â Â Â  join_inner_container.append(join_input_container, join_button_container)
Â Â Â Â Â  join_container.append(join_inner_container)
Â Â Â Â Â  document.body.append(join_container)
Â Â Â  }
Â Â Â  create_load(id){
Â Â Â Â Â  // YOU ALSO MUST HAVE (PARENT = THIS). BUT IT'S WHATEVER THO.
Â Â Â Â Â  var parent = this;
Â Â Â Â Â  var container = document.getElementById(id)
Â Â Â Â Â  container.innerHTML = ''

Â Â Â Â Â  var loader_container = document.createElement('div')
Â Â Â Â Â  loader_container.setAttribute('class', 'loader_container')

Â Â Â Â Â  var loader = document.createElement('div')
Â Â Â Â Â  loader.setAttribute('class', 'loader')

Â Â Â Â Â  loader_container.append(loader)
Â Â Â Â Â  container.append(loader_container)

Â Â Â  }
Â Â Â  create_chat(){
Â Â Â Â Â  var parent = this;
Â Â Â Â Â  // GET THAT MEMECHAT HEADER OUTTA HERE
Â Â Â Â Â  var title_container = document.getElementById('title_container')
Â Â Â Â Â  var title = document.getElementById('title')
Â Â Â Â Â  title_container.classList.add('chat_title_container')
Â Â Â Â Â  title.classList.add('chat_title')

Â Â Â Â Â  var chat_container = document.createElement('div')
Â Â Â Â Â  chat_container.setAttribute('id', 'chat_container')

Â Â Â Â Â  var chat_inner_container = document.createElement('div')
Â Â Â Â Â  chat_inner_container.setAttribute('id', 'chat_inner_container')

Â Â Â Â Â  var chat_content_container = document.createElement('div')
Â Â Â Â Â  chat_content_container.setAttribute('id', 'chat_content_container')

Â Â Â Â Â  var chat_input_container = document.createElement('div')
Â Â Â Â Â  chat_input_container.setAttribute('id', 'chat_input_container')

Â Â Â Â Â  var chat_input_send = document.createElement('button')
Â Â Â Â Â  chat_input_send.setAttribute('id', 'chat_input_send')
Â Â Â Â Â  chat_input_send.setAttribute('disabled', true)
Â Â Â Â Â  chat_input_send.innerHTML = `<i class="far fa-paper-plane"></i>`

Â Â Â Â Â  var chat_input = document.createElement('input')
Â Â Â Â Â  chat_input.setAttribute('id', 'chat_input')
Â Â Â Â Â  chat_input.setAttribute('maxlength', 1000)
Â Â Â Â Â  chat_input.placeholder = `${localStorage.getItem('name')}. Say something...`
Â Â Â Â Â  chat_input.onkeyupÂ  = function(){
Â Â Â Â Â Â Â  if(chat_input.value.length > 0){
Â Â Â Â Â Â Â Â Â  chat_input_send.removeAttribute('disabled')
Â Â Â Â Â Â Â Â Â  chat_input_send.classList.add('enabled')
Â Â Â Â Â Â Â Â Â  chat_input_send.onclick = function(){
Â Â Â Â Â Â Â Â Â Â Â  chat_input_send.setAttribute('disabled', true)
Â Â Â Â Â Â Â Â Â Â Â  chat_input_send.classList.remove('enabled')
Â Â Â Â Â Â Â Â Â Â Â  if(chat_input.value.length <= 0){
Â Â Â Â Â Â Â Â Â Â Â Â Â  return
Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â Â Â  parent.create_load('chat_content_container')
Â Â Â Â Â Â Â Â Â Â Â  parent.send_message(chat_input.value)
Â Â Â Â Â Â Â Â Â Â Â  chat_input.value = ''
Â Â Â Â Â Â Â Â Â Â Â  // Focus on the input there after
Â Â Â Â Â Â Â Â Â Â Â  chat_input.focus()
Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â  }else{
Â Â Â Â Â Â Â Â Â  chat_input_send.classList.remove('enabled')
Â Â Â Â Â Â Â  }
Â Â Â Â Â  }

Â Â Â Â Â  var chat_logout_container = document.createElement('div')
Â Â Â Â Â  chat_logout_container.setAttribute('id', 'chat_logout_container')

Â Â Â Â Â  var chat_logout = document.createElement('button')
Â Â Â Â Â  chat_logout.setAttribute('id', 'chat_logout')
Â Â Â Â Â  chat_logout.textContent = `${localStorage.getItem('name')} â€¢ logout`
Â Â Â Â Â  chat_logout.onclick = function(){
Â Â Â Â Â Â Â  localStorage.clear()
Â Â Â Â Â Â Â  parent.home()
Â Â Â Â Â  }

Â Â Â Â Â  chat_logout_container.append(chat_logout)
Â Â Â Â Â  chat_input_container.append(chat_input, chat_input_send)
Â Â Â Â Â  chat_inner_container.append(chat_content_container, chat_input_container, chat_logout_container)
Â Â Â Â Â  chat_container.append(chat_inner_container)
Â Â Â Â Â  document.body.append(chat_container)
Â Â Â Â Â  parent.create_load('chat_content_container')
Â Â Â Â Â  this.refresh_chat()
Â Â Â  }
Â Â Â  save_name(name){
Â Â Â Â Â  localStorage.setItem('name', name)
Â Â Â  }
Â Â Â  send_message(message){
Â Â Â Â Â  var parent = this
Â Â Â Â Â  if(parent.get_name() == null && message == null){
Â Â Â Â Â Â Â  return
Â Â Â Â Â  }

Â Â Â Â Â  var messages = db.ref('chats/');
Â Â Â Â Â  messages.once('value', function(snapshot) {
Â Â Â Â Â Â Â  var index = parseFloat(snapshot.numChildren()) + 1
Â Â Â Â Â Â Â  db.ref('chats/' + `message_${index}`).set({
Â Â Â Â Â Â Â Â Â  name: parent.get_name(),
Â Â Â Â Â Â Â Â Â  message: message,
Â Â Â Â Â Â Â Â Â  index: index
Â Â Â Â Â Â Â  })
Â Â Â Â Â Â Â  .then(function(){
Â Â Â Â Â Â Â Â Â  parent.refresh_chat()
Â Â Â Â Â Â Â  })
Â Â Â Â Â  })
Â Â Â  }
Â Â Â  get_name(){
Â Â Â Â Â  if(localStorage.getItem('name') != null){
Â Â Â Â Â Â Â  return localStorage.getItem('name')
Â Â Â Â Â  }else{
Â Â Â Â Â Â Â  this.home()
Â Â Â Â Â  }
Â Â Â  }
Â Â Â  refresh_chat(){
Â Â Â Â Â  var chat_content_container = document.getElementById('chat_content_container')

Â Â Â Â Â  var messages = db.ref('chats/');
Â Â Â Â Â  messages.on('value', function(snapshot) {
Â Â Â Â Â Â Â  chat_content_container.innerHTML = ''
Â Â Â Â Â Â Â  if(snapshot.numChildren() == 0){
Â Â Â Â Â Â Â Â Â  return
Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â  var values = Object.values(snapshot.val());
Â Â Â Â Â Â Â  var guide = []
Â Â Â Â Â Â Â  var unordered = []
Â Â Â Â Â Â Â  var ordered = []
Â Â Â Â Â Â Â  for (var i, i = 0; i < values.length; i++) {
Â Â Â Â Â Â Â Â Â  guide.push(i+1)
Â Â Â Â Â Â Â Â Â  unordered.push([values[i], values[i].index]);
Â Â Â Â Â Â Â  }

Â Â Â Â Â Â Â  guide.forEach(function(key) {
Â Â Â Â Â Â Â Â Â  var found = false
Â Â Â Â Â Â Â Â Â  unordered = unordered.filter(function(item) {
Â Â Â Â Â Â Â Â Â Â Â  if(!found && item[1] == key) {
Â Â Â Â Â Â Â Â Â Â Â Â Â  ordered.push(item[0])
Â Â Â Â Â Â Â Â Â Â Â Â Â  found = true
Â Â Â Â Â Â Â Â Â Â Â Â Â  return false
Â Â Â Â Â Â Â Â Â Â Â  }else{
Â Â Â Â Â Â Â Â Â Â Â Â Â  return true
Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â  })
Â Â Â Â Â Â Â  })

Â Â Â Â Â Â Â  ordered.forEach(function(data) {
Â Â Â Â Â Â Â Â Â  var name = data.name
Â Â Â Â Â Â Â Â Â  var message = data.message

Â Â Â Â Â Â Â Â Â  var message_container = document.createElement('div')
Â Â Â Â Â Â Â Â Â  message_container.setAttribute('class', 'message_container')

Â Â Â Â Â Â Â Â Â  var message_inner_container = document.createElement('div')
Â Â Â Â Â Â Â Â Â  message_inner_container.setAttribute('class', 'message_inner_container')

Â Â Â Â Â Â Â Â Â  var message_user_container = document.createElement('div')
Â Â Â Â Â Â Â Â Â  message_user_container.setAttribute('class', 'message_user_container')

Â Â Â Â Â Â Â Â Â  var message_user = document.createElement('p')
Â Â Â Â Â Â Â Â Â  message_user.setAttribute('class', 'message_user')
Â Â Â Â Â Â Â Â Â  message_user.textContent = `${name}`

Â Â Â Â Â Â Â Â Â  var message_content_container = document.createElement('div')
Â Â Â Â Â Â Â Â Â  message_content_container.setAttribute('class', 'message_content_container')

Â Â Â Â Â Â Â Â Â  var message_content = document.createElement('p')
Â Â Â Â Â Â Â Â Â  message_content.setAttribute('class', 'message_content')
Â Â Â Â Â Â Â Â Â  message_content.textContent = `${message}`

Â Â Â Â Â Â Â Â Â  message_user_container.append(message_user)
Â Â Â Â Â Â Â Â Â  message_content_container.append(message_content)
Â Â Â Â Â Â Â Â Â  message_inner_container.append(message_user_container, message_content_container)
Â Â Â Â Â Â Â Â Â  message_container.append(message_inner_container)

Â Â Â Â Â Â Â Â Â  chat_content_container.append(message_container)
Â Â Â Â Â Â Â  });
Â Â Â Â Â Â Â  // Go to the recent message at the bottom of the container
Â Â Â Â Â Â Â  chat_content_container.scrollTop = chat_content_container.scrollHeight;
Â Â Â Â Â  })
Â Â Â  }
Â  }

Â  app = new MEME_CHAT()
Â  // if this is a new user then take them to the home screen
Â  if(localStorage.getItem('name') == null){
Â Â Â  app.home()
Â  }else{
Â Â Â  // else. They are a return user.
Â Â Â  app.chat()
Â  }

}






  </script>

</html>
